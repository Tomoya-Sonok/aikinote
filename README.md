
# AikiNote

(ã“ã“ã«ãƒãƒƒã‚¸ç­‰ã‚’è¨­ç½®ã™ã‚‹)

TODO: ãƒ‘ã‚¹ã®æœ«å°¾ã‚’ä¿®æ­£ã—ãŸä¸Šã§README.mdã«æ›¸ãè¾¼ã‚€
[![Open in Visual Studio Code](https://img.shields.io/static/v1?logo=visualstudiocode&label=&message=Open%20in%20Visual%20Studio%20Code&labelColor=2c2c32&color=007acc&logoColor=007acc)](https://open.vscode.dev/ï½›GitHubã®useråï½/{ãƒªãƒã‚¸ãƒˆãƒªå})

## ğŸ“– æ¦‚è¦

AikiNoteã¯åˆæ°—é“ã®ç¨½å¤ã‚’è¨˜éŒ²ã—ã€æŠ€ã®ç¿’å¾—çŠ¶æ³ã‚’ç®¡ç†ã§ãã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚é“å ´ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¨ã®é€£æºæ©Ÿèƒ½ã‚‚å‚™ãˆã€åˆæ°—é“ä¿®è¡Œè€…ã®ãŸã‚ã®ç·åˆçš„ãªç¨½å¤ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚

- **ç¨½å¤è¨˜éŒ²ç®¡ç†**: æ—¥ã€…ã®ç¨½å¤å†…å®¹ã‚’ç°¡å˜ã«è¨˜éŒ²ãƒ»ç®¡ç†
- **æŠ€ã®ç¿’å¾—çŠ¶æ³**: ç¿’å¾—ã—ãŸæŠ€ã‚„ä¸Šé”åº¦ã‚’è¦–è¦šçš„ã«ç¢ºèª
- **é“å ´ç®¡ç†**: æ‰€å±é“å ´ã®æƒ…å ±ã‚„ç¨½å¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç¢ºèª
- **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£**: ä»–ã®ä¿®è¡Œè€…ã¨ã®äº¤æµã‚„æƒ…å ±å…±æœ‰

## ğŸ› ï¸ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ

<!-- ã“ã“ã«ã‚¢ãƒ—ãƒªã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è¿½åŠ  -->

## ğŸ’» æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| åŒºåˆ†         | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯                                                                                                                                                                                                                  |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | ![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white) ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white) ![CSS Modules](https://img.shields.io/badge/CSS_Modules-000000?style=for-the-badge&logo=css-modules&logoColor=white) |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**   | ![Hono.js](https://img.shields.io/badge/Hono.js-E36002?style=for-the-badge&logo=hono&logoColor=white) ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white)                                         |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**   | ![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)                                                                                                            |
| **ã‚¤ãƒ³ãƒ•ãƒ©**       | ![AWS](https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white) ![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white) ![Terraform](https://img.shields.io/badge/Terraform-7B42BC?style=for-the-badge&logo=terraform&logoColor=white) |

## ğŸš€ é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Docker ã¨ Docker Compose ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Node.js (v18ä»¥ä¸Š)
- pnpm (æ¨å¥¨)

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

é–‹ç™ºç’°å¢ƒã§ã¯ã€ä»¥ä¸‹ã®2ç¨®é¡ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

- `.env` - å…¬é–‹å¯èƒ½ãªåŸºæœ¬è¨­å®šï¼ˆGitç®¡ç†å¯¾è±¡ï¼‰
- `.env.local` - ç§˜å¯†æƒ…å ±ï¼ˆGitç®¡ç†å¯¾è±¡å¤–ï¼‰

å¿…è¦ãªç’°å¢ƒå¤‰æ•°ï¼š

```env
# .env - å…¬é–‹å¯èƒ½ãªåŸºæœ¬è¨­å®š
NODE_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:8787

# .env.local - ç§˜å¯†æƒ…å ±
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_URL=your-supabase-url
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
```

### é–‹ç™ºç’°å¢ƒã®èµ·å‹•

Docker Composeã‚’ä½¿ç”¨ã—ã¦é–‹ç™ºç’°å¢ƒã‚’ä¸€åº¦ã«èµ·å‹•ã§ãã¾ã™ï¼š

```bash
docker-compose up
```

ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã¾ã™ï¼š

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: [http://localhost:3000](http://localhost:3000)
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: [http://localhost:8787](http://localhost:8787)

ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢ã™ã‚‹ã«ã¯ï¼š

```bash
docker-compose down
```

### å€‹åˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™º

Docker Composeã‚’ä½¿ã‚ãšã€å€‹åˆ¥ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’é–‹ç™ºã™ã‚‹å ´åˆï¼š

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º

```bash
cd frontend
pnpm install
pnpm dev
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º

```bash
cd backend
pnpm install
pnpm dev
```

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```txt
â”œâ”€â”€ docker-compose.yml     # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®è¨­å®š
â”œâ”€â”€ README.md
â”œâ”€â”€ backend/               # Hono.jsãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ index.ts       # APIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ frontend/              # Next.jsãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ app/               # App Router
â”‚   â”‚   â”œâ”€â”€ page.tsx       # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ (auth)/        # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”‚   â”‚   â”œâ”€â”€ login/     # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â””â”€â”€ signup/    # ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ mypage/        # ãƒã‚¤ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ components/        # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ api.ts         # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ auth.ts        # èªè¨¼é–¢é€£
â”‚   â”‚   â””â”€â”€ supabase.ts    # Supabaseè¨­å®š
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ images/
â””â”€â”€ infra/                 # Terraformã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ¼ãƒ‰
    â”œâ”€â”€ alb.tf
    â”œâ”€â”€ ecr.tf
    â”œâ”€â”€ ecs.tf
    â””â”€â”€ ...
```

## ğŸ“ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

<!-- ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ã“ã“ã«è¨˜è¼‰ -->

## ğŸŒŸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

<!-- ä»Šå¾Œã®é–‹ç™ºè¨ˆç”»ã‚„è¿½åŠ äºˆå®šã®æ©Ÿèƒ½ã‚’ã“ã“ã«è¨˜è¼‰ -->

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

<!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã“ã“ã«è¨˜è¼‰ -->

## ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•

### AWSç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

ï¼‘. AWSã®èªè¨¼æƒ…å ±ã‚’è¨­å®š

```bash
aws configure
```

ï¼’. Terraformã‚’åˆæœŸåŒ–

```bash
cd infra
terraform init
```

ï¼“. Terraformãƒ—ãƒ©ãƒ³ã‚’ç¢ºèª

```bash
terraform plan -var-file=terraform.tfvars
```

ï¼”. ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
terraform apply -var-file=terraform.tfvars
```

### ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥

ï¼‘. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥

```bash
cd frontend
docker build -t aikinote-frontend:latest .
aws ecr get-login-password | docker login --username AWS --password-stdin <ECR_URL>
docker tag aikinote-frontend:latest <ECR_URL>/aikinote-frontend:latest
docker push <ECR_URL>/aikinote-frontend:latest
```

ï¼’. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥

```bash
cd backend
docker build -t aikinote-backend:latest .
aws ecr get-login-password | docker login --username AWS --password-stdin <ECR_URL>
docker tag aikinote-backend:latest <ECR_URL>/aikinote-backend:latest
docker push <ECR_URL>/aikinote-backend:latest
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[MIT License](./LICENSE.txt)
